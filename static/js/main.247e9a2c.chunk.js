(this.webpackJsonpazur_frontend=this.webpackJsonpazur_frontend||[]).push([[0],{358:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),i=n(60),s=n.n(i),l=n(5),c=n(382),o=n(21),u=n.n(o),d=n(51),b=n(10),j=n.n(b);var h=n(8),g=n(22),f=n(385),m=n(53),x=n(377),p=n(2),O=["variant"];var v=function(e){var t=e.variant,n=Object(g.a)(e,O),r=Object(m.b)("Card",{variant:t});return Object(p.jsx)(x.a,Object(h.a)({__css:r},n))},y=n(24),S=["num_of_seats"],z=function(e){var t=e.inputData,n=e.setInputData,r=Object(y.e)(),i=r.values,s=r.validateForm,l=a.a.useCallback(j.a.debounce(function(){var e=Object(d.a)(u.a.mark((function e(t,n,r,a){var i,s,l,c,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:if(i=e.sent,!j.a.isEmpty(i)){e.next=11;break}if(s=null===r||void 0===r?void 0:r.data,l=s.num_of_seats,c=Object(g.a)(s,S),o=Object(h.a)(Object(h.a)({},c),{},{numSeats:l}),!j.a.isEqual(o,t)){e.next=8;break}return e.abrupt("return",null);case 8:a({errors:{},data:Object(h.a)(Object(h.a)({},t),{},{num_of_seats:t.numSeats})}),e.next=14;break;case 11:if(!j.a.isEqual(r.errors,i)){e.next=13;break}return e.abrupt("return",null);case 13:a({errors:i,data:{}});case 14:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),550),[]);return a.a.useEffect((function(){l(i,s,t,n)}),[i]),null},k=n(56),w=n(31),E=w.b().typeError("Dieses Feld darf lediglich Zahlen enthalten").integer("Dieses Feld darf lediglich ganze Zahlen enthalten").required("Dieses Feld muss ausgef\xfcllt sein").min(1,"Die Anzahl der Einheiten muss gr\xf6\xdfer als 1 sein.").max(1e5,"Berechnungen von mehr als 100 000 Einheiten wird nicht unterst\xfctzt"),F=w.a().of(w.c().shape({name:w.d().min(1,"Mindestens ein Buchstabe als Name ist notwendig").required("Dieses Feld muss ausgef\xfcllt sein"),strength:w.b().integer("Dieses Feld darf lediglich Zahlen enthalten").typeError("Dieses Feld darf lediglich ganze Zahlen enthalten").required("Dieses Feld muss ausgef\xfcllt sein").min(0,"Das St\xe4rkeverh\xe4ltnis muss gr\xf6\xdfer als 0 sein.").max(1e9,"Jeder Fraktion d\xfcrfen maximal 1 000 000 000 Stimmen zukommen")})).required("Es wird ein Input f\xfcr die Fraktionsst\xe4rken ben\xf6tigt").min(1,"Es wird mindestens eine Fraktion ben\xf6tigt.").test("test_for_duplicates","Es werden zwei Fraktionen mit dem selben Namen aufgef\xfchrt.",(function(e){var t=e.map((function(e){return e.name}));return new Set(t).size===t.length})),D=w.d().required("Dieses Feld wird ben\xf6tigt."),A=n(387),C=n(393),I=n(398),R=n(384),N=n(378),B=["fieldArrayName","index","fieldKey","fieldType","errors"],_=["name","errorMsg","type"];function P(e){var t=e.fieldArrayName,n=e.index,r=e.fieldKey,a=e.fieldType,i=e.errors,s=Object(g.a)(e,B);return Object(p.jsx)(M,Object(h.a)({name:"".concat(t,".").concat(n,".").concat(r),errorMsg:G(j.a.get(i,t),n,r)?j.a.get(i,t)[n][r]:null,type:a},s))}function M(e){var t=e.name,n=e.errorMsg,r=e.type,a=Object(g.a)(e,_);return Object(p.jsx)(y.a,Object(h.a)({as:N.a,name:t,layerStyle:null!=n?"errorGlow":"",title:null!=n?n:"",type:r},a))}var G=function(e,t,n){return!(null==e||!Array.isArray(e)||!Object.prototype.hasOwnProperty.call(e,t)||null==e[t][n])},V=n(386),H=n(167),T=n(397),W=function(e){var t=e.values,n=e.errors,r=e.fieldArrayName,a=e.MAX_FRACTIONS,i=j.a.get(t,r),s=j.a.get(n,r);return Object(p.jsx)(x.a,{children:Object(p.jsx)(y.b,{name:r,children:function(e){var t=e.remove,l=e.push;return Object(p.jsxs)(I.b,{layerStyle:null!=s&&"string"===typeof s?"errorGlow":"",title:null!=s&&"string"===typeof s?s:"Fraktionsst\xe4rken",children:[i.length>0&&i.map((function(e,a){return Object(p.jsxs)(c.a,{flexDirection:"row",children:[Object(p.jsx)(P,{fieldKey:"name",fieldArrayName:r,index:a,fieldType:"text",errors:n,flexGrow:"3",width:"0px",ml:0}),Object(p.jsx)(P,{fieldKey:"strength",fieldArrayName:r,index:a,width:"0px",flexGrow:"1",fieldType:"number",textAlign:"center",errors:n}),Object(p.jsx)(T.a,{variant:"ghost",isDisabled:i.length<=1,m:0,width:"3ex",title:i.length>1?"Fraktion entfernen":"Fraktion kann nicht entfernt werden, da es mindestens eine Fraktion geben muss.",onClick:function(){return t(a)},children:Object(p.jsx)(H.a,{})})]},a)})),Object(p.jsx)(T.a,{variant:"ghost",_hover:{backgroundColor:"brand.darkBlueAlpha.300"},px:0,m:0,width:"100%",isDisabled:i.length>=a,title:i.length<a?"Fraktion hinzuf\xfcgen":"Es k\xf6nnen keine weiteren Fraktion hinzugef\xfcgt werden. Dieser Rechner unterst\xfctzt maximal ".concat(a," Eintr\xe4ge f\xfcr Fraktionen."),onClick:function(){return l({name:"Fraktion XYZ",strength:0})},children:Object(p.jsxs)(c.a,{flexDirection:"row",m:0,width:"100%",children:[Object(p.jsx)(N.a,{ml:0,width:"0px",flexGrow:"3",disabled:!0,variant:"fakeInput"}),Object(p.jsx)(N.a,{width:"0px",flexGrow:"1",disabled:!0,variant:"fakeInput"}),Object(p.jsx)(T.a,{width:"3ex",as:"span",m:0,variant:"ghost",pointerEvents:"none",children:Object(p.jsx)(R.a,{color:"blackAlpha.400",children:"+"})})]})})]})}})})},K=["activeValue","presetData","attributeName","setFieldValue","children"];function U(e){var t=e.activeValue,n=e.presetData,r=e.attributeName,a=e.setFieldValue,i=e.children,s=Object(g.a)(e,K);return Object(p.jsx)(T.a,Object(h.a)(Object(h.a)({variant:"".concat(j.a.isEqual(t,n)?"active":"outline"),onClick:function(){a(r,n)}},s),{},{children:i}))}var q=function(e){var t=e.values,n=e.errors,r=e.setFieldValue,a=e.MAX_FRACTIONS,i=e.attributeKey;return Object(p.jsxs)(x.a,{children:[Object(p.jsx)(f.a,{as:"h4",size:"lg",children:"Voreinstellungen"}),Object(p.jsx)(Z,{values:t,setFieldValue:r,partyStrengthsKey:i}),Object(p.jsx)(f.a,{as:"h4",size:"lg",children:"Manuelle Eingabe"}),Object(p.jsx)(W,{fieldArrayName:i,values:t,errors:n,MAX_FRACTIONS:a})]})},Z=function(e){var t=e.values,n=e.setFieldValue,r=e.partyStrengthsKey;return Object(p.jsx)(V.a,{columnGap:3,rowGap:3,templateColumns:"repeat(auto-fit, minmax(15ex, 1fr))",children:k.map((function(e){return Object(p.jsx)(V.b,{children:Object(p.jsx)(U,{activeValue:j.a.get(t,r,[]),presetData:e.data,attributeName:r,setFieldValue:n,width:"100%",m:0,title:null!=(null===e||void 0===e?void 0:e.label)?e.label:"Voreinstellung f\xfcr Fraktionsst\xe4rken - Klicken um zu aktivieren",children:e.title})},e.key)}))})},L=n(52),J=function(e){var t=e.values,n=e.attributeKey,r=e.setFieldValue;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(f.a,{as:"h3",size:"xl",children:"Mathematische Verfahren"}),Object(p.jsx)(V.a,{columnGap:3,rowGap:3,templateColumns:"repeat(auto-fit, minmax(15ex, 1fr))",children:L.azurMethods.map((function(e){return Object(p.jsx)(V.b,{children:Object(p.jsx)(U,{activeValue:j.a.get(t,n,[]),presetData:e.apiName,attributeName:n,setFieldValue:r,width:"100%",children:e.title})},e.apiName)}))})]})},X=n(96);function Y(e){var t=e.ParentStateUpdater,n=Object(y.e)(),r=n.values,a=n.errors,i=n.setFieldValue;return Object(p.jsxs)(y.c,{children:[Object(p.jsxs)(A.a,{flexDirection:"column",children:[Object(p.jsx)(M,{name:"numSeats",type:"number",errorMsg:null===a||void 0===a?void 0:a.numSeats,fontSize:"4xl",textAlign:"center",color:"black",width:"6ex",p:"1",py:"0",height:"auto"}),Object(p.jsx)(C.a,{label:"z.B. Zahl der Sitze, Redeminuten oder R\xe4ume, die Sie verteilen m\xf6chten",children:Object(p.jsxs)(I.a,{alignItems:"center",spacing:"1ex",children:[Object(p.jsx)(R.a,{fontSize:"xl",children:"Einheiten"}),Object(p.jsx)(X.a,{fontSize:"1.2rem"})]})})]}),Object(p.jsx)(f.a,{as:"h3",size:"xl",children:"Fraktionsst\xe4rken"}),Object(p.jsx)(q,{values:r,errors:a,setFieldValue:i,MAX_FRACTIONS:15,attributeKey:"partyStrengths"}),Object(p.jsx)(J,{values:r,setFieldValue:i,attributeKey:"method"}),Object(p.jsx)(t,{})]})}var Q=["azurInput","setAzurInput"];var $=function(e){var t=e.azurInput,n=e.setAzurInput,r=Object(g.a)(e,Q),a={numSeats:60,method:"schepers",partyStrengths:k[0].data},i=w.c().shape({numSeats:E,partyStrengths:F,method:D});return Object(p.jsxs)(v,Object(h.a)(Object(h.a)({},r),{},{children:[Object(p.jsx)(c.a,{children:Object(p.jsx)(f.a,{size:"2xl",children:"Filter"})}),Object(p.jsx)(y.d,{initialValues:a,validationSchema:i,validateOnChange:!1,validateOnBlur:!1,children:Object(p.jsx)(Y,{ParentStateUpdater:function(){var e=Object(y.e)(),r=e.values,a=e.validateForm;return Object(p.jsx)(z,{values:r,validateForm:a,inputData:t,setInputData:n})}})})]}))},ee=n(399),te=n(59);function ne(e,t,n){var r=te.c().domain([1,n]).range(["#333","#EEE"]),a=L.partyColors;return e in L.partyAltNamesMapping&&(e=L.partyAltNamesMapping[e]),e in a?a[e]:r(t)}var re=function(e){var t=e.data,n=e.outerRadius,a=e.innerRadius,i=2*n,s=2*n;return Object(r.useEffect)((function(){!function(){var e=Object.entries(t).map((function(e){var t=Object(l.a)(e,2);return{label:t[0],value:t[1]}}));te.d("#pie-container").select("svg").remove();var r=te.d("#pie-container").append("svg").attr("width",i).attr("height",s).append("g").attr("transform","translate(".concat(i/2,", ").concat(s/2,")")),c=te.a().innerRadius(a).outerRadius(n),o=te.b().padAngle(0).value((function(e){return e.value}));r.selectAll().data(o(e)).enter().append("path").attr("d",c).style("fill",(function(t,n){return ne(t.data.label,n,e.length)})).append("svg:title").text((function(e){return"".concat(e.data.label,"\n").concat(e.data.value)})).style("stroke","#ffffff").style("stroke-width",0)}()}),[t]),Object(p.jsx)(x.a,{id:"pie-container",display:"inline-block",width:"auto",m:1})},ae=n(389),ie=n(30);function se(e){var t=e.isAmbiguous,n=e.seatSplit,r=e.azurInput,a=Object(ie.e)().sizes,i=le(a[20]),s=le(a[56]),o=null===r||void 0===r?void 0:r.partyStrengths.map((function(e){return e.name})),u={};return o.forEach((function(e){u[e]=n[e]})),Object(p.jsxs)(c.a,{flexDirection:"column",children:[Object(p.jsx)(A.a,{my:"10",children:Object(p.jsxs)(ae.a,{size:"md",children:[Object(p.jsx)(ae.e,{children:Object(p.jsx)(ae.f,{children:Object.keys(u).map((function(e){return Object(p.jsxs)(ae.d,{children:[e," "]},e)}))})}),Object(p.jsx)(ae.b,{children:Object(p.jsx)(ae.f,{children:Object.entries(u).map((function(e){var t=Object(l.a)(e,2),n=t[0],r=t[1];return Object(p.jsx)(ae.c,{children:Array.isArray(r)?r.join(" oder "):r},n)}))})})]})}),Object(p.jsx)(A.a,{children:t?Object(p.jsxs)(ee.a,{status:"warning",children:[Object(p.jsx)(ee.c,{}),Object(p.jsx)(ee.d,{mr:2,children:"Mehrdeutiges Ergebnis"}),Object(p.jsx)(ee.b,{children:"Es l\xe4sst sich kein eindeutiges Ergebnis f\xfcr diese Eingabe berechnen. Das hei\xdft, dass die Einheiten nicht eindeutig bestimmten Fraktionen zugewiesen werden k\xf6nnen. Es kann helfen eine andere mathematische Methode zu w\xe4hlen, oder diese Verteilungsgr\xf6\xdfe zu vermeiden."})]}):Object(p.jsx)(re,{data:u,outerRadius:s,innerRadius:i})})]})}function le(e){return parseFloat(e)*parseFloat(getComputedStyle(document.documentElement).fontSize)}var ce=n(390),oe=function(e){var t=e.cell;return Object(p.jsx)(c.a,{justifyContent:"center",children:Object(p.jsx)(x.b,{size:"3ex",bg:"brand.backgroundGrey",color:"black",children:Object(p.jsx)(R.a,{fontWeight:"bold",children:t.value})})})};var ue=function(e){var t=e.cell;return Object(p.jsx)(de,{cell:t})},de=function(e){var t=e.cell;if(null==(null===t||void 0===t?void 0:t.value))return"loading...";var n=t.value;return Array.isArray(n)?Object(p.jsxs)(x.a,{layerStyle:"ambiguityContainerHighlight",children:[Object(p.jsx)(R.a,{color:"brand.orange",children:"Mehrdeutig!"}),Object(p.jsx)(R.a,{children:be(n)})]}):j.a.has(t,"row.original.seat_goes_to")&&j.a.has(t,"column.Header")&&t.row.original.seat_goes_to==t.column.Header?Object(p.jsx)(x.a,{fontWeight:"bold",children:n}):n},be=function(e){return Array.isArray(e)?e.join(" oder "):e},je=n(383),he=n(101);function ge(e){var t=e.column,n=t.filterValue,r=void 0===n?[]:n,i=t.preFilteredRows,s=t.setFilter,o=a.a.useMemo((function(){return[1,i.length]}),[i]),u=Object(l.a)(o,2),d=u[0],b=u[1];return Object(p.jsxs)(c.a,{align:"center",children:[Object(p.jsx)(N.a,{value:r[0]||"",type:"number",onChange:function(e){var t=e.target.value;s((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[t?parseInt(t,10):void 0,e[1]]}))},placeholder:"".concat(d),width:"8ex",mr:"1ex"}),"bis",Object(p.jsx)(N.a,{value:r[1]||"",type:"number",onChange:function(e){var t=e.target.value;s((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[e[0],t?parseInt(t,10):void 0]}))},placeholder:"".concat(b),width:"8ex",ml:"1ex"})]})}var fe=n(394),me=n(391),xe=["pageOptions","gotoPage","state"],pe=function(e){var t=e.pageOptions,n=e.gotoPage,r=e.state.pageIndex,a=Object(g.a)(e,xe);return Object(p.jsxs)(c.a,Object(h.a)(Object(h.a)({alignItems:"center"},a),{},{children:[Object(p.jsx)(R.a,{ml:2,flexShrink:"0",children:"Seite"}),Object(p.jsxs)(fe.c,{w:"10.5ex",p:0,mx:2,min:1,max:t.length,onChange:function(e){n(e?e-1:0)},defaultValue:r+1,children:[Object(p.jsx)(fe.d,{}),Object(p.jsxs)(fe.e,{children:[Object(p.jsx)(fe.b,{}),Object(p.jsx)(fe.a,{})]})]}),Object(p.jsxs)(R.a,{mr:2,children:["von ",t.length]})]}))},Oe=function(e){var t=e.pageSize,n=e.setPageSize;return Object(p.jsx)(c.a,{children:Object(p.jsx)(me.a,{w:40,mr:2,value:t,onChange:function(e){n(Number(e.target.value))},children:[8,10,20,50,100].map((function(e){return Object(p.jsxs)("option",{value:e,children:[e," pro Seite"]},e)}))})})},ve=function(e){var t=e.getTableProps,n=e.getTableBodyProps,a=e.headerGroups,i=e.prepareRow,s=e.page,l=e.getRowProps,c=void 0===l?function(){return{}}:l;return Object(p.jsx)(x.a,{maxWidth:"100%",children:Object(p.jsxs)(ae.a,Object(h.a)(Object(h.a)({},t()),{},{variant:"stickyHeader",children:[Object(p.jsx)(ae.e,{children:a.map((function(e,t){return Object(p.jsx)(ae.f,Object(h.a)(Object(h.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(p.jsx)(ae.d,Object(h.a)(Object(h.a)({},e.getHeaderProps()),{},{children:e.render("Header")}),e.header)}))}),"headerGroup:".concat(t))}))}),Object(p.jsx)(ae.b,Object(h.a)(Object(h.a)({},n()),{},{children:s.map((function(e){return i(e),Object(p.jsx)(ae.f,Object(h.a)(Object(h.a)({},e.getRowProps(c(e))),{},{children:e.cells.map((function(t){var n;return Object(r.createElement)(ae.c,Object(h.a)(Object(h.a)({},t.getCellProps()),{},{key:(null===t||void 0===t||null===(n=t.column)||void 0===n?void 0:n.id)+(null===e||void 0===e?void 0:e.id)}),t.render("Cell"))}))}),null===e||void 0===e?void 0:e.id)}))}))]}))})};function ye(e){var t=e.data,n=e.columns,r=e.getRowProps,i=void 0===r?function(){return{}}:r,s=a.a.useMemo((function(){return{disableFilters:!0}}),[]),l=[{Header:"",id:"index",accessor:function(e,t){return t+1},Cell:oe,disableFilters:!1,defaultCanFilter:!0,Filter:ge,filter:"between"}],c=a.a.useMemo((function(){return null==t?[]:t}),[t]),o=a.a.useMemo((function(){return null==n?[]:l.concat(n)}),[n]),u=Object(he.useTable)({columns:o,data:c,defaultColumn:s},he.useFilters,he.usePagination),d=u.getTableProps,b=u.getTableBodyProps,j=u.headerGroups,h=u.prepareRow,g=u.page,f=u.pageOptions,m=u.gotoPage,x=u.setPageSize,O=u.state,v=O.pageIndex,y=O.pageSize;return a.a.useEffect((function(){x(20)}),[]),Object(p.jsx)(p.Fragment,{children:void 0==n||void 0==t?Object(p.jsx)(je.a,{}):Object(p.jsxs)(I.c,{maxWidth:"100%",children:[Object(p.jsx)(I.a,{maxWidth:"100%",children:Object(p.jsx)(ve,{getTableProps:d,getTableBodyProps:b,headerGroups:j,prepareRow:h,page:g,getRowProps:i})}),Object(p.jsxs)(I.a,{alignItems:"center",spacing:"3ex",children:[Object(p.jsx)(pe,{pageOptions:f,gotoPage:m,state:{pageIndex:v,pageSize:y}}),Object(p.jsx)(Oe,{pageSize:y,setPageSize:x})]})]})})}function Se(e){var t=e.assignmentSequence,n=e.tableData,r=[{Header:"Zugriff",accessor:"seat_goes_to",disableFilters:!0,Cell:function(e){return function(e){var t=e.cell,n=e.tableData,r=null===t||void 0===t?void 0:t.value;if(Array.isArray(r))return"Mehrdeutig! "+be(r);var a=Object.keys(n[0].seats),i=a.length,s=a.findIndex((function(e){return e==r})),l=ne(r,s,i),o=function(e){return Object(p.jsx)(ce.a,Object(h.a)(Object(h.a)({viewBox:"0 0 200 200"},e),{},{children:Object(p.jsx)("path",{fill:"currentColor",d:"M 100, 100 m -75, 0 a 75,75 0 1,0 150,0 a 75,75 0 1,0 -150,0"})}))};return Object(p.jsxs)(c.a,{align:"center",children:[Object(p.jsx)(R.a,{flex:1,textAlign:"center",children:r}),Object(p.jsx)(o,{color:l,mr:2,boxSize:12})]})}({cell:e.cell,tableData:n})}}];return Object(p.jsx)(ye,{data:t,columns:r})}function ze(e){var t=e.tableData,n=e.assignmentSequence,r=e.azurInput,a=[],i=[];null!=t&&Array.isArray(t)&&t.length>=1&&(a=(null===r||void 0===r?void 0:r.partyStrengths.map((function(e){return e.name}))).map((function(e){return{Header:e,accessor:"seats."+e,isNumeric:!0,Cell:ue}})),i=j.a.isEmpty(n)?t:t.map((function(e,t){return Object(h.a)({seat_goes_to:n[t].seat_goes_to},e)})));return Object(p.jsx)(ye,{data:i,columns:a,getRowProps:function(e){var t;return{layerStyle:(null===e||void 0===e||null===(t=e.original)||void 0===t?void 0:t.is_ambiguous)?"ambigousRowHighlight":""}}})}var ke=n(172),we=function(e){var t=e.tableData,n=null;return null!=t&&(n=t.slice(0,400)),null!=n?Object(p.jsxs)(A.a,{flexDirection:"column",maxWidth:"100%",children:[Object(p.jsxs)(ae.a,{children:[Object(p.jsx)(ae.e,{children:Object(p.jsxs)(ae.f,{children:[Object(p.jsx)(ae.d,{children:"Position"}),Object.keys(n[0].seats).map((function(e){return Object(p.jsx)(ae.d,{children:e},e)}))]})}),Object(p.jsx)(ae.b,{children:n.map((function(e,t){return Object(p.jsxs)(ae.f,{children:[Object(p.jsx)(ae.c,{children:t+1}),Object.values(e.seats).map((function(e,n){return Object(p.jsx)(ae.c,{children:Array.isArray(e)?Object(p.jsxs)(x.a,{layerStyle:"ambiguityContainerHighlight",children:[Object(p.jsx)(R.a,{color:"brand.orange",children:"Mehrdeutig!"}),Object(p.jsx)(R.a,{children:be(e)})]}):Object(p.jsx)(x.a,{children:e})},"tablePrintRow".concat(t,"_").concat(n))}))]},"tablePrintRow".concat(t))}))})]}),t.length>=400&&Object(p.jsx)(R.a,{children:"Es kann nur eine begrenzte Anzahl an Zeilen gedruckt werden."})]}):"Loading"},Ee=a.a.forwardRef((function(e,t){var n=e.azurResponse,r=e.azurInput,a=null===n||void 0===n?void 0:n.table,i="";if(null!=(null===r||void 0===r?void 0:r.method)){var s,l=null===(s=L.azurMethods.find((function(e){return(null===e||void 0===e?void 0:e.apiName)==(null===r||void 0===r?void 0:r.method)})))||void 0===s?void 0:s.title;null!=l&&(i=l)}return Object(p.jsxs)(x.a,{p:3,ref:t,children:[Object(p.jsx)(f.a,{size:"xl",children:"Eingabe"}),Object(p.jsxs)(x.a,{children:[Object(p.jsx)(f.a,{size:"lg",children:"Verteilmasse"}),Object(p.jsx)(R.a,{children:null===r||void 0===r?void 0:r.numSeats}),Object(p.jsx)(f.a,{size:"lg",children:"Methode"}),Object(p.jsxs)(R.a,{children:[i," "]}),Object(p.jsx)(f.a,{size:"lg",children:"Fraktionsst\xe4rken"}),null!=r.partyStrengths&&Object(p.jsx)(ae.a,{children:Object(p.jsxs)(ae.b,{children:[Object(p.jsxs)(ae.f,{children:[Object(p.jsx)(ae.d,{children:"Name"}),null===r||void 0===r?void 0:r.partyStrengths.map((function(e){return Object(p.jsx)(ae.c,{children:e.name},"Name_".concat(e.name))}))]}),Object(p.jsxs)(ae.f,{children:[Object(p.jsx)(ae.d,{children:"St\xe4rke"}),null===r||void 0===r?void 0:r.partyStrengths.map((function(e){return Object(p.jsx)(ae.c,{children:e.strength},"St\xe4rke_".concat(e.strength))}))]})]})})]}),Object(p.jsx)(f.a,{size:"xl",children:"Ausgabetabelle"}),Object(p.jsx)(x.a,{children:Object(p.jsx)(we,{tableData:a})})]})})),Fe=function(e){var t=e.azurResponse,n=e.azurInput,a=Object(r.useRef)(),i=Object(ke.useReactToPrint)({content:function(){return a.current}});return Object(p.jsxs)(I.a,{spacing:"0",children:[Object(p.jsx)(T.a,{variant:"outline",onClick:i,children:Object(p.jsxs)(I.a,{spacing:"0.3rem",children:[Object(p.jsx)(X.b,{}),Object(p.jsx)(R.a,{fontWeight:"normal",fontSize:"sm",children:"Drucken"})]})}),Object(p.jsx)(x.a,{display:"none",children:Object(p.jsx)(Ee,{azurResponse:t,azurInput:n,ref:a})})]})},De=n(395);function Ae(e){var t=e.azurInput,n=e.azurResponse,r=e.loading;a.a.useEffect((function(){"hare"===t.method&&1===o&&u(0)}),[t]);var i=a.a.useState(0),s=Object(l.a)(i,2),o=s[0],u=s[1],d={color:"brand.darkBlue",boderColor:"brand.darkBlue",border:"1px solid",borderBottom:"none",boxShadow:"0px 2px 0px -1px white"};return Object(p.jsxs)(De.e,{mt:"10",align:"left",index:o,onChange:function(e){u(e)},children:[Object(p.jsxs)(c.a,{justifyContent:"space-between",alignItems:"end",children:[Object(p.jsxs)(De.b,{children:[Object(p.jsx)(De.a,{fontSize:"lg",_selected:d,children:"Anteile"}),Object(p.jsx)(De.a,{fontSize:"lg",_selected:d,title:"hare"===t.method?"Bei der mathematischen Berechnungsmethode Hare/Niemeyer entsteht keine Zugriffsreihenfolge. Probieren Sie eine andere Methode.":"Reihenfolge in der die einzelnen Einheiten an die Fraktionen vergeben werden.",isDisabled:"hare"===t.method,children:"Reihenfolge"}),Object(p.jsx)(De.a,{fontSize:"lg",_selected:d,title:"Tabellarische \xdcbersicht f\xfcr die Verteilmassen von 1 bis ".concat(t.numSeats),children:"Tabelle"})]}),Object(p.jsx)(Fe,{azurResponse:n,azurInput:t})]}),r?Object(p.jsx)(A.a,{minHeight:"40em",children:Object(p.jsx)(je.a,{size:"xl",color:"brand.orange"})}):Object(p.jsxs)(De.d,{children:[Object(p.jsx)(De.c,{children:Object(p.jsx)(se,{isAmbiguous:n.distribution.is_ambiguous,seatSplit:n.distribution.seats,azurInput:t})}),Object(p.jsx)(De.c,{children:Object(p.jsx)(Se,{tableData:n.table,assignmentSequence:n.assignment_sequence})}),Object(p.jsx)(De.c,{children:Object(p.jsx)(ze,{tableData:n.table,assignmentSequence:n.assignment_sequence,azurInput:t})})]})]})}var Ce=["azurInput","azurResponse","azurError","loading"];function Ie(e){var t=e.azurInput,n=e.azurResponse,r=e.azurError,a=e.loading,i=Object(g.a)(e,Ce);return Object(p.jsxs)(v,Object(h.a)(Object(h.a)({},i),{},{variant:"organismWrapper",children:[Object(p.jsx)(f.a,{size:"2xl",children:"Verteilung"}),Object(p.jsx)(c.a,{flexDirection:"column",children:j.a.isEmpty(t.errors)?null!=r?Object(p.jsxs)(ee.a,{status:"error",children:[Object(p.jsx)(ee.c,{}),Object(p.jsx)(ee.d,{mr:2,children:"Fehler bei der Berechnung"}),Object(p.jsxs)(ee.b,{children:["Es ist ein Fehler bei der Berechnung aufgetreten:"," ",r.message]})]}):Object(p.jsx)(Ae,{azurResponse:n,azurInput:t.data,loading:a}):Object(p.jsxs)(ee.a,{status:"error",children:[Object(p.jsx)(ee.c,{}),Object(p.jsx)(ee.d,{mr:2,children:"Ung\xfcltige Eingabe!"}),Object(p.jsxs)(ee.b,{children:[null!=t.errors.numSeats&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(R.a,{mt:3,fontWeight:"bold",children:"Fehler bei der Eingabe der Einheiten"}),Object(p.jsx)(R.a,{children:t.errors.numSeats})]}),null!=t.errors.partyStrengths&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(R.a,{mt:3,fontWeight:"bold",children:"Fehler bei der Eingabe der Fraktionsst\xe4rken"}),"string"===typeof t.errors.partyStrengths?Object(p.jsx)(R.a,{children:t.errors.partyStrengths}):t.errors.partyStrengths.map((function(e,t){return e.strength?Object(p.jsx)(R.a,{children:e.strength},t+"strengthError"):Object(p.jsx)(R.a,{children:e.name},t+"nameError")}))]})]})]})})]}))}function Re(){var e=a.a.useState({data:{},errors:{}}),t=Object(l.a)(e,2),n=t[0],r=t[1],i=function(e){var t=a.a.useState({}),n=Object(l.a)(t,2),r=n[0],i=n[1],s=a.a.useState(!0),c=Object(l.a)(s,2),o=c[0],b=c[1],h=a.a.useState(null),g=Object(l.a)(h,2),f=g[0],m=g[1],x=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b(!0),n={},t.partyStrengths.forEach((function(e){n[e.name]=e.strength})),fetch("https://azur-api.herokuapp.com/azur",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({votes:n,method:t.method,num_of_seats:t.num_of_seats,return_table:!0})}).then(function(){var e=Object(d.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=4;break}return e.abrupt("return",t.json());case 4:return e.next=6,t.json();case 6:throw n=e.sent,null==(r=null===n||void 0===n?void 0:n.message)&&(r="An unexpected error occured"),new Error(r);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){m(null),i(e)})).catch((function(e){i(null),console.log(e),m(e)})).finally((function(){b(!1)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a.a.useEffect((function(){j.a.isEmpty(null===e||void 0===e?void 0:e.errors)&&"partyStrengths"in(null===e||void 0===e?void 0:e.data)&&x(e.data)}),[e]),{data:r,loading:o,error:f}}(n),s=i.data,o=i.loading,b=i.error;return Object(p.jsxs)(c.a,{flexDirection:["column","column","column","row"],height:["auto","auto","auto","100%"],width:["auto","auto","auto","90vw"],margin:["0","0","0","0 auto"],children:[Object(p.jsx)($,{azurInput:n,setAzurInput:r,maxHeight:"100%",width:["100%","100%","100%","35%"]}),Object(p.jsx)(Ie,{azurInput:n,azurResponse:s,azurError:b,loading:o,maxHeight:"100%",width:["100%","100%","100%","65%"]})]})}n(9);var Ne=function(){return Object(p.jsx)(x.a,{className:"App",children:Object(p.jsx)(x.a,{height:"100vh",children:Object(p.jsx)(Re,{})})})},Be=(n(356),n(357),n(33)),_e=function(){return Object(p.jsx)(Be.a,{styles:"\n      @font-face {\n        font-family: 'BundesSans';\n        font-weight: 'normal';\n        font-style: 'italic';\n        src: url('fonts/BundesSansOffice-Italic.ttf');\n      }\n      @font-face {\n        font-family: 'BundesSans';\n        font-weight: 'normal';\n        src: url('fonts/BundesSansOffice.ttf');\n      }\n      @font-face {\n        font-family: 'BundesSans';\n        font-weight: 'bold';\n        font-style: 'italic';\n        src: url('fonts/BundesSansOffice-BoldItalic.ttf');\n      }\n      @font-face {\n        font-family: 'BundesSans';\n        font-weight: 'bold';\n        src: url('fonts/BundesSansOffice-Bold.ttf');\n      }\n    "})},Pe=n(392),Me={baseStyle:{table:{display:"inline-block",maxWidth:"100%",width:"auto",overflowX:"auto",borderCollapse:"collapse"},th:{color:"brand.primary",textAlign:"center",textTransform:"none"},td:{textAlign:"center",fontWeight:"normal"}},sizes:{md:{table:{fontSize:"md"},td:{fontSize:"md"},th:{fontSize:"md"}},lg:{table:{fontSize:"lg"},td:{fontSize:"lg"},th:{fontSize:"lg"}}},variants:{stickyHeader:{table:{height:"55vh",overflow:"auto"},thead:{position:"sticky",top:"0",backgroundColor:"white"}}},defaultProps:{size:"md"}},Ge=Object(Pe.a)({components:{Button:{baseStyle:{margin:"1",padding:"1.5em",whiteSpace:"normal",wordWrap:"break-word",borderRadius:"none",fontWeight:"normal"},variants:{active:{backgroundColor:"brand.orangeAlpha.600",border:"1px solid",borderColor:"brand.orange",fontWeight:"bold"}}},Input:{parts:["field"],baseStyle:{field:{margin:"1",my:0,py:"1",px:"4",backgroundColor:"white",outline:"1px solid",outlineColor:"brand.darkBlueAlpha.200",border:"none"}},variants:{fakeInput:{field:{pointerEvents:"none"}}},defaultProps:{size:"",variant:""}},Heading:{baseStyle:{color:"brand.primary",fontWeight:"regular"},sizes:{lg:{fontSize:"lg",mt:"5",mb:"3"},xl:{fontSize:"xl",mt:"7",mb:"3",color:"brand.darkBlue"},"2xl":{fontSize:"2xl",mt:"7",mb:"3",color:"brand.darkBlue"}}},Tabs:{parts:["tabpanel","tab"],baseStyle:{tabpanel:{bg:"white",my:0,border:"1px solid",borderColor:"brand.darkBlue"},tab:{bg:"white",p:3}},variants:{}},Card:{baseStyle:{backgroundColor:"brand.backgroundGrey",borderRadius:"lg",m:3,p:"10",py:"2",overflowY:"auto"},variants:{ghost:{backgroundColor:"transparent"}}},Table:Me},colors:{brand:{primary:"#4A5568",orange:"#FF7100",orangeAlpha:{50:"rgba(255, 133, 0, 0.02)",100:"rgba(255, 133, 0, 0.04)",200:"rgba(255, 133, 0, 0.08)",300:"rgba(255, 133, 0, 0.16)",400:"rgba(255, 133, 0, 0.24)",500:"rgba(255, 133, 0, 0.36)",600:"rgba(255, 133, 0, 0.48)",700:"rgba(255, 133, 0, 0.64)",800:"rgba(255, 133, 0, 0.80)"},darkBlue:"#3396B6",darkBlueAlpha:{50:"rgba(51, 150, 182, 0.02)",100:"rgba(51, 150, 182, 0.04)",200:"rgba(51, 150, 182, 0.08)",300:"rgba(51, 150, 182, 0.16)",400:"rgba(51, 150, 182, 0.24)",500:"rgba(51, 150, 182, 0.36)",600:"rgba(51, 150, 182, 0.48)",700:"rgba(51, 150, 182, 0.64)",800:"rgba(51, 150, 182, 0.80)"},backgroundGrey:"#EDF2F7"}},fonts:{heading:"BundesSans",body:"Open Sans"},fontSizes:{xs:"0.6rem",sm:"0.8rem",md:"1rem",lg:"1.1rem",xl:"1.6rem","2xl":"2rem","3xl":"2.3rem","4xl":"3rem","5xl":"4rem"},layerStyles:{errorGlow:{outline:"1px solid #E53E3E",boxShadow:"0 0 10px #E53E3E"},ambiguityContainerHighlight:{},changedRowHighlight:{backgroundColor:"brand.orangeAlpha.300"},ambigousRowHighlight:{backgroundColor:"brand.orangeAlpha.300"}}}),Ve=n(396);s.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsxs)(Ve.a,{resetCSS:!0,theme:Ge,children:[Object(p.jsx)(_e,{}),Object(p.jsx)(Ne,{})]})}),document.getElementById("root"))},52:function(e){e.exports=JSON.parse('{"azurMethods":[{"apiName":"schepers","title":"Sainte-Lagu\xeb/Schepers","default":true},{"apiName":"dhondt","title":"D\'Hondt"},{"apiName":"hare","title":"Hare-Niemeyer"}],"partyColors":{"CDU/CSU":"#000000","SPD":"#E3000F","AfD":"#0489DB","FDP":"#FFEF00","DIE LINKE.":"#E9009E","DIE GR\xdcNEN":"#1AA037"},"partyAltNamesMapping":{"Union":"CDU/CSU","CDU":"CDU/CSU","Die Gr\xfcnen":"DIE GR\xdcNEN","Die Linke":"DIE LINKE.","B\xfcndnis 90/Die Gr\xfcnen":"DIE GR\xdcNEN"}}')},56:function(e){e.exports=JSON.parse('[{"key":"btwCurrent","title":"Aktueller Bundestag","label":"Die aktuelle Sitzverteilung im Bundestag -letzte Aktualisierung am 25.10.2021","data":[{"name":"SPD","strength":206},{"name":"CDU/CSU","strength":197},{"name":"B\xfcndnis 90/Die Gr\xfcnen","strength":118},{"name":"FDP","strength":92},{"name":"AfD","strength":82},{"name":"DIE LINKE.","strength":39}]},{"key":"btw2017","title":"Bundestagswahl 2017","data":[{"name":"CDU/CSU","strength":246},{"name":"SPD","strength":153},{"name":"AfD","strength":94},{"name":"FDP","strength":80},{"name":"DIE LINKE.","strength":69},{"name":"B\xfcndnis 90/Die Gr\xfcnen","strength":67}]}]')}},[[358,1,2]]]);
//# sourceMappingURL=main.247e9a2c.chunk.js.map